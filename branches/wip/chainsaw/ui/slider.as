package chainsaw.ui{	import flash.events.MouseEvent;	import flash.events.Event;		import chainsaw.ui.bg;	import chainsaw.ui.ui_text;	public class slider extends bg	{		private var button_width:Number=40;//the width of the descriptin part				public var desc_obj:ui_text;		public var valu_obj:ui_text;				public var value_bg_obj:bg = new bg();		public var slider_obj:bg = new bg();				public var value_pointer;		public var value_function;		public var value_string:String;				private var span:Number;//the number that 100 goes into the width of the slider. For scaling purposes				private var _low:Number=0;		private var _high:Number=1;		private var _incr:Number=1;				//public var on_click_function:Function;//this is the name of the function		//public var id:Number;		//public var button_data:Array=new Array();//an array to hold data that comes in that needs to be passes on press				public function slider(s:String,v,f,x:Number=0,y:Number=0,w:Number=296,h:Number=12):void{			value_pointer=v;//give the value to the slider			value_function=f;			value_string=s;			//make the label of the slider			desc_obj= new ui_text(s);			draw_bg(x,y,button_width,h);//draw the slider label			addChild(desc_obj);						//make the value part			var value_x=x+button_width+2;			valu_obj= new ui_text(v[s],value_x,y);//make the text for the value			value_bg_obj.draw_bg(value_x,y);			value_bg_obj.addChild(valu_obj);			addChild(value_bg_obj);						//make the slider part			var slider_x=value_x+button_width+2;			var slider_w = w-((button_width+2)*2);			slider_obj.draw_bg(0,0,slider_w,12,0x000000,0);//draw the slider			slider_obj.draw_rectangle(slider_obj._palette,0,0,100);			slider_obj.x=slider_x;//move it over into place so the x is proper for calculating			slider_obj.y=y;			addChild(slider_obj);						set_slider();			//slider_obj.addChild(valu_obj);						//addEventListener(MouseEvent.MOUSE_OVER, mouseOverHandler);			slider_obj.addEventListener(MouseEvent.MOUSE_DOWN, mouseDownHandler);			slider_obj.addEventListener(MouseEvent.MOUSE_OUT, mouseOutHandler);			slider_obj.addEventListener(MouseEvent.MOUSE_UP, mouseUpHandler);			//ad the text to it, yeah!								}				private function mouseOverHandler(e:MouseEvent):void {		  	//bg_color();	  	}	  	private function mouseDownHandler(e:MouseEvent):void{			var b = e.target;			//trace(_high);			b.addEventListener(Event.ENTER_FRAME, update_slider);			}		private function mouseOutHandler(e:MouseEvent):void{			//bg_color(0xD4D4D4);		}		private function mouseUpHandler(e:MouseEvent):void{			var b = e.target;			b.removeEventListener(Event.ENTER_FRAME,update_slider);			//on_click_function(this,button_data);		}		private function set_slider():void{			span =slider_obj.width/100;//set values			var v=valu_obj.text_string.text;//get the value			var i=1;//for the while loop incremeting						while(v>i){				i*=10;			}						_high=i;			_incr=(v/_high)*span;						slider_obj._palette.scaleX=_incr;		}		private function update_slider(e:Event):void{			var b = e.target;			var m = mouseX-slider_obj.x;//relative mouse position			var w = slider_obj.width;// width of the slider			var s = m/w;//the resulting scale 			slider_obj._palette.scaleX=span*s;//slide the slider yay!						var result_value=s*_high;//the resulting value			valu_obj.text_string.text=result_value;						//update object slider is effecting			value_pointer[value_string]=result_value;			if(value_function!=""){				value_pointer[value_function]();			}		}	}}