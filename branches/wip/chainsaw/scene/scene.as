package chainsaw.scene{	import flash.display.Sprite;	import flash.events.Event;		import chainsaw.scene.renderer;		public class scene extends Sprite	{				public var _finished:	Boolean	=	true;//loaded var		public var _loaded:		Boolean =  	false;		private var _n		:	Number	=	0;				public var _init 	:	Array	=	new Array();//hold the init object array to be loaded		public var _inst 	:	Array	=	new Array();//hold the init object array to be loaded				public var _objects	:	Array	=	new Array();//hold the objects that are loaded up		public var _scene	:	Array	=	new Array();//hold all instances				public var _run		: 	Function;				public var _renderer:	renderer;				public function scene(){			_renderer = new renderer(this);			addChild(_renderer._screen);		}				//-----------------------------		//		render		//-----------------------------		public function render():void{			_renderer.renderscene();		}				//-----------------------------		//		initialize the scene objects		//-----------------------------		public function init(run_function):void{			_run = run_function;			addEventListener(Event.ENTER_FRAME, run_init);		}		private function run_init(e:Event):void{//this function actually pushes the obj into an array 			if(this._finished==true && !this._objects[_n]){//only run if the object isn't already assembling				this._objects.push ( new this._init[_n][1]( finish, this._init[_n][0] ) );			}		}		public function finish():void{//caled after a obj has finished loading			//trace(this._init[_n][0]);			this._n++;			this._finished=true;			//trace(this._n+"____"+this._init.length)			if(this._n==this._init.length){//when we reach the end of the initial objects				removeEventListener(Event.ENTER_FRAME,run_init);				this.build_scene();//now go run though instance list				this._loaded=true;				//addEventListener(Event.ENTER_FRAME, render);			}		}		//-----this part goes through and makes all the instances		public function build_scene():void{			for(var i in this._inst){				_scene.push( new _inst[i][1] (this, _inst[i][0], _inst[i][2]) );							}			this._loaded=true;			addEventListener(Event.ENTER_FRAME, _run);			//create a new enterframe to create file		}		//---------------------------		//---------------------------	}}